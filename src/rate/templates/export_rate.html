{% extends "base.html" %}

{% block title %}Export Rate Data â€” DMS Inc.{% endblock %}

{% block content %}
<main class="content-narrow">
  <section class="card export-card">
    <p class="muted">Culvert rating summary</p>

    <h1>Your rating</h1>
    <p class="rating-value" style="font-size: 2.5rem; font-weight: 600; margin: 0.25rem 0;">
      {{ overall_rating or 5 }}
    </p>

    <p class="lead">
      {{ condition_label or "S minus is in very good condition." }}
    </p>

    <div style="margin-top: 1rem;">
      <h2 style="margin-bottom: 0.5rem;">Model outputs</h2>
      <ul style="list-style: none; padding: 0; margin: 0;">
        <li><strong>Random forest</strong> {{ random_rating or 5 }}</li>
        <li><strong>XGBoost</strong> {{ xgb_rating or 5 }}</li>
      </ul>
      <p class="muted" style="margin-top: 0.5rem; font-size: 0.9rem;">
        Ratings range from 1 (poor) to 5 (excellent).
      </p>
    </div>

    <div class="actions" style="margin-top: 1.5rem;">
      <button
        class="btn btn-primary"
        type="button"
        onclick="window.print()"
        title="Export this summary to PDF"
      >
        Export to PDF
      </button>
      <a href="{{ url_for('rate.index') }}" class="btn">
        Rate another culvert
      </a>
    </div>
  </section>

  {% if input_rows %}
  <section class="card export-card">
    <h2>Input data</h2>
    <table class="export-table" style="width: 100%; border-collapse: collapse; font-size: 0.95rem;">
      <tbody>
        {% for label, value in input_rows %}
        <tr>
          <th scope="row" style="text-align: left; padding: 0.4rem 0.6rem; border-bottom: 1px solid rgba(148, 163, 184, 0.4);">
            {{ label }}
          </th>
          <td style="padding: 0.4rem 0.6rem; border-bottom: 1px solid rgba(148, 163, 184, 0.4);">
            {{ value }}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </section>
  {% endif %}
</main>
{% endblock %}
